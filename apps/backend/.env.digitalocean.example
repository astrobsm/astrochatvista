# DigitalOcean Backend Environment Variables
# Copy this file to .env and fill in your values

# ===========================================
# CORE SETTINGS
# ===========================================
NODE_ENV=production
PORT=4000

# ===========================================
# DATABASE (DigitalOcean Managed PostgreSQL)
# ===========================================
# Get connection string from DigitalOcean database dashboard
DATABASE_URL="postgresql://user:password@your-db-cluster.db.ondigitalocean.com:25060/chatvista?sslmode=require"

# ===========================================
# REDIS (DigitalOcean Managed Redis)
# ===========================================
# Get connection string from DigitalOcean Redis dashboard
REDIS_URL="rediss://default:password@your-redis-cluster.db.ondigitalocean.com:25061"

# ===========================================
# JWT AUTHENTICATION
# ===========================================
# Generate with: openssl rand -base64 64
JWT_SECRET="your-super-secure-jwt-secret-min-32-chars"
JWT_EXPIRES_IN="15m"
REFRESH_TOKEN_EXPIRES_IN="7d"

# ===========================================
# FRONTEND URL (Vercel Deployment)
# ===========================================
FRONTEND_URL="https://your-app.vercel.app"
CORS_ORIGINS="https://your-app.vercel.app,https://www.your-domain.com"

# ===========================================
# API SETTINGS
# ===========================================
API_PREFIX=/api/v1
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# ===========================================
# FILE UPLOADS (DigitalOcean Spaces)
# ===========================================
# Note: Recordings are stored locally on device, but other files use DO Spaces
DO_SPACES_ENDPOINT="https://nyc3.digitaloceanspaces.com"
DO_SPACES_KEY="your-spaces-key"
DO_SPACES_SECRET="your-spaces-secret"
DO_SPACES_BUCKET="chatvista-uploads"
DO_SPACES_REGION="nyc3"

# ===========================================
# EMAIL (Optional - for notifications)
# ===========================================
SMTP_HOST="smtp.mailgun.org"
SMTP_PORT=587
SMTP_USER="your-mailgun-user"
SMTP_PASS="your-mailgun-password"
EMAIL_FROM="noreply@your-domain.com"

# ===========================================
# WEBRTC (Optional - for advanced video)
# ===========================================
# If using external TURN server
TURN_SERVER_URL="turn:turn.your-domain.com:3478"
TURN_SERVER_USERNAME="turnuser"
TURN_SERVER_CREDENTIAL="turnsecret"

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# SECURITY
# ===========================================
BCRYPT_ROUNDS=12
SESSION_SECRET="your-session-secret"
